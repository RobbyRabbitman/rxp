<div
  *ngIf="graph != null"
  class="relative h-full flex flex-col items-stretch justify-center"
>
  <div class="!absolute top-0 right-8 bottom-0 left-8 flex items-center">
    <mat-slider
      #end
      class="end w-full hide-slider-track"
      [value]="graph.end"
      [min]="min"
      [max]="max"
      (input)="_endChange($event.value ?? max)"
    ></mat-slider>
  </div>
  <div
    class="!absolute top-0 right-8 bottom-0 left-8 flex items-center"
    *ngFor="let marble of graph.marbles"
  >
    <mat-slider
      class="marble w-full hide-slider-track"
      [appUiMarble]="marble"
      [value]="marble.time"
      [min]="min"
      [max]="max"
      (input)="
        marble.time = $event.value ?? max;
        end.value = _calcEndAfterMarbleChange(graph)
      "
    ></mat-slider>
  </div>
  <div class="!absolute top-0 right-0 bottom-0 left-0 flex items-center">
    <mat-divider class="w-full !border-t-4"> </mat-divider>
    <mat-icon class="!absolute -right-2">arrow_right</mat-icon>
  </div>
</div>
